# EasyAI-uniapp 二次开发版本 🚀

> 基于 [EasyAI 官方](https://doc.51easyai.com/) 开源项目深度优化的 AI 绘画小程序解决方案 | 支持 ComfyUI 工作流定制

## 🎉 全新升级说明

- **后续开发计划说明**：
  -后续将开设新的付费版本：将开发与EasyAI后台兼容的独立后台，实现各种需求（如：商户入驻、代理入驻、抖音、小红书登录等一切想做的内容）并将集成小程序实现后端自定义小程序前端样式、下载小程序模板、小程序一键上传等功能。开源版本也会持续维护更新，只是更新速度不会那么快
- **🌱 可持续发展计划**:

1. 前端小程序样式预留数据接口，可集成至后台中
2. 依托门店后台后续可开发小红书小程序、抖音小程序、H5、APP等多种类型的应用
3. 小程序可开发客服咨询以及定制订单发送、地址管理、物流管理等功能
4. 可集成ERP系统实现自动化订单提交
   ![alt text](image-4.png)
   ![alt text](image-5.png)

    

![界面预览](image-2.png)![界面预览](image-3.png)![界面预览](image.png)![界面预览](image-1.png)

使用方法以及说明
首页
首页图标处应用设置：
1.在easyai主程序后台，进入对应的应用->编辑->高级编辑->找到标签或，输入与图标对应的名称；如首页AI扩展处要启用，则设置对应应用为AI扩展即可。(内容和标签对应上才会显示，若对应上还是不显示检查显示的平台是否包含微信小程序，都没问题你多刷新两次)

| ![](https://file+.vscode-resource.vscode-cdn.net/C:/Users/35577/AppData/Local/Temp/ksohtml20272/wps8.jpg) |
| ------------------------------------------------------------------------------------------------------- |

页面元素与对应的标签设置说明

![1758447738139](images/README/1758447738139.png)

## 📌 项目特性

- ✅ **兼容性强**：适配EasyAI官方后台系统
- 💡 **功能亮点**：多模态作品展示（视频/音频/图文）、动态进度条交互
- ⚙️ **企业级支持**：提供微信客服集成、OSS 资源优化、管理后台扩展
- 🎨 **视觉升级**：重构 UI 界面、新增画廊视图、动画交互优化
- ❤️ **支持APP发布**：支持发布安卓APP，有需要的可以联系定制APP！

---

## 📞 联系方式

| 类型                                                                                          | 联系方式                        |
| --------------------------------------------------------------------------------------------- | ------------------------------- |
| 微信咨询                                                                                      | hdmlgzs (备注：EasyAI 项目咨询) |
| 由于开新坑后本人比较忙，后续技术支持需要有偿进行，费用明码标价88元/次每小时，没解决问题不收费 |                                 |

---

## 🧩 组件使用说明



组件特点：

- 固定 2x2 网格布局，最多显示 4 张图片
- 统一图片尺寸，保持界面整洁
- 支持图片选择和选中状态显示
- 兼容原有的数据结构和参数绑定机制

### 万能上传组件-音频（MP3）组件

```bash
在组件搭建页面
参数名称使用 ：image_path
默认值：*.MP3 (或者使用你的音频链接，只要后缀有MP3都行)
```

### 万能上传组件-视频（MP4）组件

```bash
在组件搭建页面
参数名称使用 ：image_path_video
默认值：可以为空
```

---

## 📄 安装指南

### 环境准备

| 工具             | 版本要求 | 获取地址                                                                         |
| ---------------- | -------- | -------------------------------------------------------------------------------- |
| 微信开发者工具   | 最新版   | [官网下载](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html) |
| HBuilderX/VsCode | 任选其一 | [官方地址](https://www.dcloud.io/hbuilderx.html)                                    |
| npm环境          | 需要安装 | -                                                                                |

### 部署步骤
-----------------------------
视频教程（抖音）
```bash
https://v.douyin.com/dJCnJcC-S-A/ 
复制此链接，打开Dou音搜索，直接观看视频！
```

### [HbuilderX发布小程序教程](https://blog.csdn.net/lhz_333/article/details/121749358)
### [2025最新｜微信小程序域名配置全攻略：从服务器到业务域名，避坑指南](https://blog.csdn.net/u012210662/article/details/149384843)
-----------------------------

1. **初始化项目**

   ```bash
   # 1. 拉取项目或者下载zip文件
   git clone https://github.com/chinahu-woker/easyai2work.git

   # 2. 解压文件进入项目目录
   cd myself-acgi-mpweixin
   cd src

   # 3. 安装依赖（如果npm报错可以使用，Windows建议使用pnpm兼容性好 pnpm install）
   npm install
   ```
2. **环境配置**（修改 `.env` 文件）

   ```env
   # 完成以上操作后，进入目录找到.env文件修改你的后端域名
   # 在此之前你需要：
   # 1) 在管理后台中配置好你小程序id和密钥（在微信公众平台中获取）
   # 2) 如果使用域名请配置好反向代理，测试可以使用ip地址，但要记得注释
   # 3) 确保以上配置无误后进入下一步

   VITE_API_URL=https://你的域名/api
   VITE_WS_URL=wss://你的域名/socket.io
   ```
3. **编译运行**

   ```bash
   # 本地调试，在当前项目目录下执行该命令
   npm run dev:mp-weixin
   # 命令运行完成后打开微信小程序开发者工具，导入项目：
   # f:\MyGithub\myself-acgi-mpweixin\dist\dev\mp-weixin\

   # 发布时使用此命令构建生产包
   # 然后也是用微信小程序开发者工具导入项目->发布
    pnpm build:mp-weixin
    npm build:mp-weixin
   ```
4. **部署注意事项**

   - 执行npm命令时报错：删除 `node_modules` 后再次执行，若仍报错则删除 `node_modules` 后执行 `pnpm i`
   - 运行开发者工具中没有显示：极大可能是env配置不对或者后台没有正确配置
   - 微信小程序开发工具中能正常显示但预览或真机调试无显示：可能是SSL证书不被微信认可，需要配置阿里云、腾讯云等大厂的正规SSL证书（有免费试用）
   - 感谢长期支持项目的用户，让项目能持续前进

---

## 📅 版本迭代记录
### v2025.9.21 (兼容3.4.4)
### 🆕 新增功能

- **如何修改前端内容**：

  - 1.在src\cofigs\data\pagesGlobalData.json中可以修改logo、图标、标签等
  - 2.如何使用：采用标签识别的方式来区分内容，在EasyAI后台将对应应用设置为对应标签即可在前端对应显示
- **高级组件系列**：

  - 高级图片选择器组件（与网站功能一致的插件设计）
  - 高级标签选择器组件（与网站功能一致的插件设计）
  - 高级Slider选择组件（与网站功能一致的插件设计）
  - 自定义LoRA名称组件（与网站功能一致的插件设计）
- **应用管理优化**：

  - 顶部应用切换栏（支持在顶部直接切换应用页面，应用间数据不会因缓存问题被干扰）
  - 首页商户应用自动匹配组件（只需在EasyAI应用后台将应用名称或标签设置为对应值即可使用，生效后应用会出现紫色边框和红点，未生效则提示未开放）
  - 顶部应用跳转组件
  - 热门应用组件（只需在EasyAI应用后台将应用标签设置为"热门"即可使用，未生效则不显示）
  - 非组织应用不可见（对于有设置组织的应用，当前用户非本组织不可见）
- **界面与交互优化**：

  - 全新底部导航栏（重新设计底部导航栏功能与样式）
  - 生成结果展示（重写生成结果展示页面，使用缩略图+主图的形式展示，兼容多批次多图，同时兼容视频、文本显示）
  - 门店付费页面应用展示插件


### 🐛 修复问题

- 修复高级图片选择器后端传值问题
- 修复高级标签选择器后端传值问题
- 修复微信小程序中账号密码登录的传值问题，同时兼容H5版本使用
- 修复因数据错误处理函数导致提交任务后进度显示问题
- 修改前端组件匹配机制，兼容后缀型插件名称
- 修复随机种子插件18位太长问题（压缩至与官网相同的12位）
- 修复支付功能的TypeScript问题
- 修正流处理代码以消除 TypeScript 报错
- 修复热门应用对视频兼容的问题，优化对展示数据较多的情况下实现10条每次的动态加载
### v2025.9.16 (兼容3.4.4)

- 优化前端显示细节
- 优化前端显示组件，解决切换标签时出现重复卡片的问题

### v2025.8.26 (兼容3.4.2)

- 新增视频上传插件（功能完整性待测试）

### v2025.8.24 (兼容3.4.2)

- 向官方大版本更新进行融合

### v2025.7.26 (兼容3.3.1)

- 完善遮罩绘制组件的绘制逻辑
- 现在只需一次上传就支持遮罩绘制，相比上个版本需要上传两次，用户体验更好
- 关于局部绘制的工作流作者已经放在文件中，用户可以自行查看
- 修复部分WebSocket的bug

### v2025.7.23 (兼容3.3.1)

- 修复上个版本残留的bug
- 新增遮罩绘制插件，支持涂抹、直线、方框绘制（测试版，有bug请及时反馈作者修复）

### v2025.7.10 (兼容3.2.7)

- 新增多图上传组件，一次支持上传6张
- 新增账号登录、注册功能，用户可以在小程序端使用微信登录或账号密码登录
- 优化历史页面的按钮以及返回按钮

### v2025.7.3 (兼容3.2.5)

- 删除AI聊天页面（因官方接口更改，需要时间兼容，临时推出该版本）
- 修改详情页面，现在直接跳转到绘画页面
- 修复创意页面的评论功能
- 创意页面的评论支持回复和删除，画同款支持带参跳转
- 更换会员充值接口的banner（因有人嫌太丑）
- 修复绘画历史页面的下载功能

### v2025.5.26 (兼容3.1.7)

**核心优化：**

- DragButton2 组件性能提升 60%
- 自定义悬浮按钮初始位置配置
- 进度展示系统重构
- 新增作品下载功能入口
- 评论系统增强，支持多层回复

### v2025.4.21 (兼容3.1.1)

**主要更新：**

- 修复历史作品删除逻辑
- 完善邀请码/分享功能兼容
- 音频上传组件标准化配置（需配合后台 *.mp3 格式默认值）
- 管理员权限体系优化

### v2025.2.24 (兼容3.0.2)

**视觉升级：**

- 新增画廊式历史记录展示
- 个人中心 UI 重构
- 包体积优化（<2MB）

### 更早版本

查看完整更新日志 ➤ [版本历史](./CHANGELOG.md)

---

## 🧰 开发者须知

### 项目结构

```
src/
├── components/      # 核心组件
├── composables/     # 业务逻辑封装
├── stores/          # Pinia 状态管理
├── types/           # TypeScript 类型定义
└── views/           # 页面组件
```

### 技术栈

- 框架：Vue3 + UniApp
- 状态管理：Pinia + Vue3 Composition API
- 构建工具：Vite + HBuilderX
- 样式：SCSS + Tailwind CSS

---

## ⚠️ 常见问题

### 域名配置

- 需在小程序后台配置所有域名白名单
- WebSocket 建议通过 Nginx 做协议转换

### 图片资源

❗ 请勿直接使用作者 OSS 链接（会产生高额费用）

```bash
# 静态资源本地存储路径
/static/
```

### 功能调试

工作流配置需遵循：

1. `audio_path` 字段需带 `.mp3` 后缀
2. 模型权限需设置为管理员或以上

---

## 📸 效果预览

![首页](https://github.com/chinahu-woker/easyai2work/blob/master/20250224myself.png)
![历史记录](https://github.com/chinahu-woker/easyai2work/blob/master/pic.png)
![AI 聊天](https://github.com/chinahu-woker/easyai2work/blob/master/20250208193439.png)

---

## 💸 赞助支持

如果有特殊需求也可以联系作者定制。如果你觉得这个项目帮到你了，欢迎请作者喝杯咖啡！
